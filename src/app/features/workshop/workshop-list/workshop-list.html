<div id="workshops">
  <div class="card">
    <div class="card-header">
      <div class="icon-wrapper">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
          <line x1="16" y1="2" x2="16" y2="6" />
          <line x1="8" y1="2" x2="8" y2="6" />
          <line x1="3" y1="10" x2="21" y2="10" />
        </svg>
      </div>
      <h2>Workshops</h2>
    </div>
    <div id="workshops-list" class="card-content">
      @for (workshop of (workshop_list$ | async); track $index) {
      <mat-accordion class="custom-panel">
        <mat-expansion-panel class="card"
          (opened)="panelOpenState.set(true)"
          (closed)="panelOpenState.set(false)"
        >
          <mat-expansion-panel-header>
            <div class="workshop-header">
              <mat-panel-title class="workshop-title">
                {{ workshop.name }}
              </mat-panel-title>
              <p class="workshop-date">{{ workshop.eventDate }}</p>
            </div>
          </mat-expansion-panel-header>
          <div class="workshop-details">
            <p class="workshop-description">{{ workshop.description }}</p>
            <div class="participants-list">
              <h4 class="participants-title">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                  <circle cx="9" cy="7" r="4" />
                  <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                  <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                </svg>
                Participantes
              </h4>
              @for (item of workshop.employees; track $index) {
              <div class="participant-item">{{ item.name }}</div>
              }@empty {
              <p>Nenhum participante!</p>
              }
            </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
      }
    </div>
  </div>
</div>
